name: download

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 1 * *'  # 每月执行一次

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      # 下载静态站点文件
      - name: Download Static Site
        uses: actions/download-artifact@v2
        with:
          name: static-site
          path: downloaded-site

      # 部署到 GitHub Pages
      - name: Deploy to GitHub Pages
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          branch: gh-pages
          folder: downloaded-site
          clean: true
          single-commit: true
          force: true
